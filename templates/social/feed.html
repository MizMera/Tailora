{% extends 'base.html' %}
{% load static %}

{% block title %}Social Feed - Tailora{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/social.css' %}">
<link rel="stylesheet" href="{% static 'css/settings.css' %}">
{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">Social Feed</h1>
        <p class="page-subtitle">Discover and share your style</p>
    </div>
    <div class="header-actions">
        <a href="{% url 'social:discover' %}" class="btn btn-secondary">Discover</a>
        <a href="{% url 'social:create_post' %}" class="btn btn-primary">+ Share Outfit</a>
    </div>
</div>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
{% endif %}

<div class="social-layout">
    <!-- Main Feed -->
    <div class="feed-main">
        {% if posts %}
            <div class="posts-feed">
                {% for post in posts %}
                    {% include 'social/_post_card.html' with post=post %}
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state content-section">
                <div class="empty-icon">ðŸ‘¥</div>
                <h3>Your Feed is Empty</h3>
                <p>Follow other users to see their posts here</p>
                <a href="{% url 'social:discover' %}" class="btn btn-primary">Discover Users</a>
            </div>
        {% endif %}
    </div>
    
    <!-- Sidebar -->
    <div class="feed-sidebar">
        <!-- User Stats -->
        <div class="content-section">
            <h3 class="section-title">YOUR PROFILE</h3>
            <div class="user-stats-grid">
                <div class="user-stat-item">
                    <span class="stat-value">{{ posts_count }}</span>
                    <span class="stat-label">Posts</span>
                </div>
                <div class="user-stat-item">
                    <span class="stat-value">{{ followers_count }}</span>
                    <span class="stat-label">Followers</span>
                </div>
                <div class="user-stat-item">
                    <span class="stat-value">{{ following_count }}</span>
                    <span class="stat-label">Following</span>
                </div>
            </div>
            <a href="{% url 'social:profile' user.id %}" class="btn btn-secondary btn-block" style="margin-top: 16px;">View Profile</a>
            <a href="{% url 'social:saved_posts' %}" class="btn btn-secondary btn-block" style="margin-top: 8px;">Saved Posts</a>
        </div>
        
        <!-- Active Challenges -->
        {% if active_challenges %}
        <div class="content-section">
            <h3 class="section-title">ACTIVE CHALLENGES</h3>
            <div class="challenges-mini-list">
                {% for challenge in active_challenges %}
                    <a href="{% url 'social:challenge_detail' challenge.id %}" class="challenge-mini-card">
                        <h4>{{ challenge.title }}</h4>
                        <p>{{ challenge.theme }}</p>
                        <span class="challenge-hashtag">{{ challenge.hashtag }}</span>
                    </a>
                {% endfor %}
            </div>
            <a href="{% url 'social:challenges_list' %}" class="btn btn-secondary btn-block" style="margin-top: 16px;">All Challenges</a>
        </div>
        {% endif %}
    </div>
</div>
            
{% endblock %}
